<script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbwZo_FPWpCsOq4uRqMlSDV68kY2JKgN79NO9RyOkZQ-Z4r93oD7rSxG9xmdk_avS6M4/exec";
  const form = document.getElementById('contactForm');
  const status = document.getElementById('form-status');
  const popup = document.getElementById('success-popup');

  form.addEventListener('submit', e => {
    e.preventDefault(); // prevent reload
    status.innerHTML = "⏳ Sending message...";

    fetch(scriptURL, { method: 'POST', body: new FormData(form) })
      .then(response => {
        if (response.ok) {
          status.innerHTML = "";
          popup.classList.add('active');
          form.reset();

          // ✅ Redirect to thankyou.html after 2 seconds
          setTimeout(() => {
            popup.classList.remove('active');
            window.location.href = "thankyou.html";
          }, 2000);
        } else {
          throw new Error('Network response was not ok.');
        }
      })
      .catch(error => {
        console.error('Error!', error.message);
        status.innerHTML = "❌ Something went wrong. Please try again later.";
      });
  });
</script>
