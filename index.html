<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tiny Team Digital Studio | Luzien Joseph</title>

  <!-- Google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Main styles (kept inline for one-file convenience) -->
  <style>
    :root{
      --blue:#A7C7E7;
      --cream:#F9F6EE;
      --soft:#BDBDBD;
      --text:#333;
      --brown:#4E342E;
      --bg-light: #faf8f6;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Poppins',sans-serif;
      background:var(--cream);
      color:var(--text);
      min-height:100vh;
      overflow-x:hidden;
      transition: opacity 0.6s ease;
    }
    body.fade-out { opacity: 0; }

    /* Background blobs (kept from original) */
    .bg { position:fixed; inset:0; z-index:-2; overflow:hidden; background: linear-gradient(135deg,#F9F6EE 0%, #F7FBFF 100%); }
    .blob{ position:absolute; filter: blur(40px); opacity:0.85; animation: drift 14s ease-in-out infinite; transform-origin:center; }
    .blob.a{width:520px;height:420px;background:linear-gradient(120deg,#A7C7E7 0%, #DCC29E 60%); top:-60px; left:-100px;}
    .blob.b{width:420px;height:360px;background:linear-gradient(120deg,#C6F0E1 0%, #A7C7E7 60%); bottom:-80px; right:-120px; animation-delay:3s;}
    .blob.c{width:360px;height:300px;background:linear-gradient(120deg,#F2D4E6 0%, #A7C7E7 60%); top:10%; right:10%; animation-delay:6s;}
    @keyframes drift{0%{transform:translateY(0)scale(1)rotate(0deg);}50%{transform:translateY(-30px)scale(1.03)rotate(6deg);}100%{transform:translateY(0)scale(1)rotate(0deg);}}

    header{text-align:center;padding:56px 20px 24px;position:relative;}
    .logo-wrap { display:inline-block;width:140px;height:140px;border-radius:50%;padding:8px; background:rgba(255,255,255,0.7);backdrop-filter:blur(6px); box-shadow:0 0 25px rgba(167,199,231,0.4); }
    .logo-wrap img{width:100%;height:100%;border-radius:50%;border:2px solid rgba(255,255,255,0.8);}
    .glow { position:absolute;left:50%;top:64px;transform:translateX(-50%); width:220px;height:220px;border-radius:50%;filter:blur(34px);z-index:-1; background:radial-gradient(circle at 25% 25%,rgba(167,199,231,0.25),rgba(210,185,222,0.15),rgba(198,240,225,0.08)); }

    h1{color:var(--brown);font-size:2.5rem;margin:18px 0 6px;}
    h2{color:var(--brown);font-weight:500;margin:0 0 18px;}
    p.lead{max-width:900px;margin:0 auto 12px;color:#555;font-size:1.05rem;}
    main{padding:24px 16px 80px;text-align:center;}

    .btn{
      display:inline-block;margin-top:18px;padding:12px 22px;
      background:var(--brown);color:#fff;text-decoration:none;
      border-radius:10px;font-weight:600;
      box-shadow:0 6px 18px rgba(0,0,0,0.06);
      transition:transform .18s,background .18s;
      border: none;
      cursor: pointer;
    }
    .btn:hover{transform:translateY(-3px); background:#3e241e;}

    ul.services{ list-style:none;padding:0; display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:18px;margin-top:18px; }
    .card{ position:relative;overflow:hidden;border-radius:12px; padding:18px;background:#fff; box-shadow:0 8px 22px rgba(0,0,0,0.06); text-align:left; transition:transform .25s ease,box-shadow .25s ease; }
    .card:hover{transform:translateY(-4px);box-shadow:0 10px 28px rgba(0,0,0,0.1);}
    .card h3{color:var(--brown);margin:0 0 8px;}
    .card p{color:#444;font-size:0.92rem;margin:0;}

    /* Inline contact form (original) */
    form#contactForm{
      text-align:left;background:#fff;padding:20px;border-radius:10px;box-shadow:0 10px 25px rgba(0,0,0,0.06);
      max-width:620px;margin:0 auto;
    }
    input,textarea{width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #e6e6e6;font-family:inherit;}
    label{font-weight:600;font-size:0.92rem;color:#444;}
    footer{padding:40px 16px;color:var(--soft);text-align:center;font-size:0.95rem;}

    /* success popup (kept) */
    #success-popup { position: fixed;top: 50%;left: 50%; transform: translate(-50%, -50%) scale(0.8); background: rgba(255,255,255,0.75); backdrop-filter: blur(18px); border-radius: 20px; padding: 36px 48px; box-shadow: 0 0 50px rgba(167,199,231,0.5); text-align: center; color: #333; opacity: 0;z-index: 9999; transition: all 0.5s ease; }
    #success-popup.active {opacity: 1;transform: translate(-50%, -50%) scale(1);}
    #success-popup::before { content: "";position: absolute;inset: -20px; background: radial-gradient(circle, rgba(167,199,231,0.3), transparent 70%); filter: blur(20px);z-index: -1; }

    /* ===========================
       MODAL STYLES (new)
       =========================== */
    .modal-overlay {
      display: none; /* show by JS */
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      padding: 24px;
    }

    .modal-overlay.show { display:flex; animation: modalFade .25s ease-in-out; }
    @keyframes modalFade { from { opacity: 0 } to { opacity: 1 } }

    .modal-content {
      width: 100%;
      max-width: 540px;
      background: #fff;
      border-radius: 14px;
      padding: 28px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.25);
      color: var(--brown);
      position: relative;
    }

    .modal-content h2 { margin: 0 0 8px; font-size:1.5rem; color: var(--brown); }
    .modal-content p { margin: 0 0 16px; color:#666; }

    .modal-content input,
    .modal-content select,
    .modal-content textarea {
      width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #e9e1d6;background:var(--bg-light);
      color:var(--brown);
    }

    .modal-content .checkbox-group label { display:block; margin:6px 0; color:var(--brown); font-weight:600; }
    .modal-content .submit-btn { background:var(--brown); color:#fff; border:none; padding:12px 18px; border-radius:8px; cursor:pointer; font-weight:700; width:100%; margin-top:10px; }
    .modal-content .submit-btn:hover{ background:#3e241e; }

    .close-btn { position:absolute; right:16px; top:12px; font-size:22px; color:var(--brown); cursor:pointer; }

    @media(min-width:900px){ h1{font-size:3rem;} }
  </style>
</head>
<body>

  <div class="bg">
    <div class="blob a"></div>
    <div class="blob b"></div>
    <div class="blob c"></div>
  </div>

  <header>
    <div class="glow"></div>
    <div class="logo-wrap fade" style="animation-delay:0.05s;">
      <img src="logo.png" alt="Tiny Team Digital Studio logo">
    </div>
    <h1 class="fade delay">Tiny Team Digital Studio</h1>
    <h2 class="fade delay">Tiny team. Big results.</h2>
    <p class="lead fade delay">We craft smart, modern digital systems ‚Äî from funnels and automation to YouTube growth ‚Äî helping you scale effortlessly with style and strategy.</p>
    <!-- Start a Project opens modal -->
    <button id="startProjectBtn" class="btn fade delay">Start a Project</button>
  </header>

  <main>
    <section class="fade" style="animation-delay:0.18s;">
      <h2 style="color:var(--brown);margin-bottom:14px;">What We Do Best</h2>
      <p style="color:#666;margin-bottom:16px;">Transforming your ideas into digital experiences that work, wow, and win.</p>

    <!-- ===========================
     SERVICE CARDS + MODALS
     =========================== -->
<ul class="services">
  <li>
    <div class="card">
      <img src="funnel.jpg" alt="Funnel Design" style="width:100%;border-radius:10px;margin-bottom:10px;">
      <h3>Funnel Design & Automation</h3>
      <p>From clicks to conversions ‚Äî we build funnels that automate your growth and free your time.</p>
      <button class="btn" data-open="#modal-funnel" style="margin-top:12px;">See inside</button>
    </div>
  </li>

  <li>
    <div class="card">
      <img src="brand.jpg" alt="Brand Identity" style="width:100%;border-radius:10px;margin-bottom:10px;">
      <h3>Brand & Digital Identity</h3>
      <p>Design that defines you. We craft visual stories that your audience remembers and trusts.</p>
      <button class="btn" data-open="#modal-brand" style="margin-top:12px;">See inside</button>
    </div>
  </li>

  <li>
    <div class="card">
      <img src="workflow1.jpg" alt="Workflow Optimization" style="width:98%;border-radius:10px;margin-bottom:10px;">
      <h3>Workflow Optimization</h3>
      <p>Streamline your process with automations that make your business run smoother than ever.</p>
      <button class="btn" data-open="#modal-workflow" style="margin-top:12px;">See inside</button>
    </div>
  </li>

  <li>
    <div class="card">
      <img src="youtube.jpg" alt="Faceless YouTube Systems" style="width:100%;border-radius:10px;margin-bottom:10px;">
      <h3>Faceless YouTube Systems</h3>
      <p>Grow on autopilot. We design faceless video systems that boost engagement and brand visibility.</p>
      <button class="btn" data-open="#modal-youtube" style="margin-top:12px;">See inside</button>
    </div>
  </li>
</ul>

<!-- ===== Service Modals ===== -->

<!-- Funnel -->
<div id="modal-funnel" class="modal-overlay" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-labelledby="funnelTitle">
    <button class="close-btn" aria-label="Close">&times;</button>
    <h2 id="funnelTitle">Funnel Design & Automation</h2>
    <p>Transform clicks into clients. See a simple lead journey in action.</p>

    <img src="funnel.jpg" alt="Funnel preview" style="width:100%;border-radius:10px;margin:10px 0 14px;">

    <ul style="margin:0 0 10px 18px;color:#555;line-height:1.6;">
      <li>Landing ‚Üí Offer ‚Üí Form</li>
      <li>Auto-confirmation email & follow-up</li>
      <li>Booking/payment integration (optional)</li>
    </ul>

    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <a class="btn" href="#walkthrough">üöÄ Walk Me Through</a>
      <a class="btn" href="samples/funnel/" target="_blank">View Samples</a>
      <a class="btn" href="templates/funnel-template.zip" download>‚¨áÔ∏è Free Funnel Template</a>
    </div>
  </div>
</div>

<!-- Brand -->
<div id="modal-brand" class="modal-overlay" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-labelledby="brandTitle">
    <button class="close-btn" aria-label="Close">&times;</button>
    <h2 id="brandTitle">Brand & Digital Identity</h2>
    <p>Build a brand that feels human, credible, and memorable.</p>

    <img src="brand.jpg" alt="Brand preview" style="width:100%;border-radius:10px;margin:10px 0 14px;">

    <ul style="margin:0 0 10px 18px;color:#555;line-height:1.6;">
      <li>Logo, color palette, and typography</li>
      <li>Social + web consistency</li>
      <li>Reusable Canva/Figma templates</li>
    </ul>

    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <a class="btn" href="samples/brand/" target="_blank">View Samples</a>
      <a class="btn" href="templates/brand-board-template.png" target="_blank">Free Brand Board</a>
    </div>
  </div>
</div>

<!-- Workflow -->
<div id="modal-workflow" class="modal-overlay" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-labelledby="workflowTitle">
    <button class="close-btn" aria-label="Close">&times;</button>
    <h2 id="workflowTitle">Workflow Optimization</h2>
    <p>Automate the busywork. Save hours each week with calm systems.</p>

    <img src="workflow1.jpg" alt="Workflow preview" style="width:100%;border-radius:10px;margin:10px 0 14px;">

    <ul style="margin:0 0 10px 18px;color:#555;line-height:1.6;">
      <li>Google Sheets dashboards & reports</li>
      <li>Auto-email & PDF exports</li>
      <li>Trigger-based flows in GHL</li>
    </ul>

    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <a class="btn" href="samples/workflow/" target="_blank">View Samples</a>
    </div>
  </div>
</div>

<!-- YouTube -->
<div id="modal-youtube" class="modal-overlay" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-labelledby="youtubeTitle">
    <button class="close-btn" aria-label="Close">&times;</button>
    <h2 id="youtubeTitle">Faceless YouTube Systems</h2>
    <p>Turn ideas into income ‚Äî without showing your face.</p>

    <img src="youtube.jpg" alt="YouTube system preview" style="width:100%;border-radius:10px;margin:10px 0 14px;">

    <ul style="margin:0 0 10px 18px;color:#555;line-height:1.6;">
      <li>AI voiceovers & stock editing workflow</li>
      <li>Upload schedule & SEO templates</li>
      <li>Monetization-ready niches</li>
    </ul>

    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <a class="btn" href="samples/youtube/" target="_blank">View Samples</a>
      <a class="btn" href="templates/youtube-planner.xlsx" target="_blank">Free Channel Planner</a>
    </div>
  </div>
</div>

<!-- ===========================
     SEE IT IN ACTION (Walkthrough)
     =========================== -->
<section id="walkthrough" class="fade" style="animation-delay:0.2s;margin-top:44px;">
  <h2 style="color:var(--brown);margin-bottom:10px;">See It in Action</h2>
  <p style="color:#666;max-width:680px;margin:0 auto 24px;">
    Experience how a funnel really works ‚Äî from first click to automation.  
    This short interactive demo shows how our templates bring your brand to life.
  </p>

  <div style="background:#fff;padding:28px;border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,0.06);max-width:780px;margin:0 auto;">
    <img src="funnel-demo.jpg" alt="Funnel preview" style="width:100%;border-radius:10px;margin-bottom:18px;">
    <button id="openWalkthrough" class="btn">üöÄ Walk Me Through (I‚Äôm Excited!)</button>
  </div>
</section>

<!-- Walkthrough Modal -->
<div id="walkModal" class="modal-overlay" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-content" role="document" style="max-width:600px;">
    <button class="close-btn" aria-label="Close walkthrough">&times;</button>
    <h2>Funnel Walkthrough</h2>
    <p style="color:#666;">Take a quick look at what happens inside our funnel system üëá</p>

    <ol style="text-align:left;color:#555;line-height:1.6;font-size:0.95rem;margin-bottom:18px;">
      <li><strong>Step 1:</strong> Visitor lands on your branded page ‚Äî clear offer & call-to-action.</li>
      <li><strong>Step 2:</strong> Automation triggers: confirmation email, booking, or follow-up.</li>
      <li><strong>Step 3:</strong> Thank-you page celebrates your new lead ‚Äî all done automatically!</li>
    </ol>

    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <a href="templates/funnel-template.zip" class="btn" download>‚¨áÔ∏è Get the Free Funnel Template</a>
      <a href="#contact" class="btn">Start My Funnel</a>
    </div>
  </div>
</div>

    </section>

    <!-- Original contact section (KEEPING your old Apps Script form) -->
    <section id="contact" class="fade" style="animation-delay:0.22s;">
      <h2 style="color:var(--brown);margin-bottom:8px;">Let‚Äôs Build Something Amazing Together</h2>
      <p style="color:#666;margin-bottom:16px;">
        We‚Äôd love to collaborate! Whether it‚Äôs design, automation, or a creative system ‚Äî
        drop a message below and let‚Äôs make it happen.
      </p>

      <!-- ORIGINAL form (App Script) - unchanged -->
      <form id="contactForm" style="max-width:620px;margin:0 auto;background:#fff;padding:20px;border-radius:10px;box-shadow:0 10px 25px rgba(0,0,0,0.06);">
        <label for="name">Name</label>
        <input id="name" name="name" required placeholder="Your name">

        <label for="email">Email</label>
        <input id="email" name="email" type="email" required placeholder="you@example.com">

        <label for="message">Message</label>
        <textarea id="message" name="message" rows="5" required placeholder="Tell us about your project..."></textarea>

        <button type="submit" class="btn" style="width:100%;">Send Message</button>
        <p id="form-status" style="color:#777;margin-top:10px;"></p>
      </form>

      <p style="color:#777;margin-top:12px;">
        Or email us directly:
        <a href="mailto:smallsteps@tinyteamstudio.online" style="color:var(--brown);font-weight:600;">
          smallsteps@tinyteamstudio.online
        </a>
      </p>
    </section>
  </main>

  <footer class="fade" style="animation-delay:0.28s;">¬© 2025 Tiny Team Digital Studio ‚Ä¢ Designed by Luzien Joseph</footer>

  <!-- Success popup (original) -->
  <div id="success-popup">
    <svg viewBox="0 0 24 24"><path d="M9 16.17l-3.88-3.88L4 13.41l5 5 10-10-1.41-1.41z"/></svg>
    <h3>Message Sent!</h3>
    <p>Thank you for reaching out üíô<br>We'll get back to you soon.</p>
  </div>

  <!-- ===========================
       NEW: Modal (Start a Project) connected to Google Form
       =========================== -->
  <div id="projectModal" class="modal-overlay" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-content" role="document" aria-labelledby="modalTitle">
      <button class="close-btn" aria-label="Close modal">&times;</button>
      <h2 id="modalTitle">Start a Project</h2>
      <p style="margin-bottom:12px;color:#666;">Quick details help us estimate scope ‚Äî pick services and leave a short note.</p>

      <!-- Google Form endpoint (uses your public /d/e/.../formResponse) -->
      <form id="projectForm"
            action="https://docs.google.com/forms/d/e/1FAIpQLSforN4hmDAUwmZAbVplGEr7tjOeHZ9H_dr-uDmwJ5P-T3m0JQ/formResponse"
            method="POST"
            target="_blank"
            >
        <!-- Name -->
        <input type="text" name="entry.1513897006" placeholder="Your Name" required />

        <!-- Email -->
        <input type="email" name="entry.1673846018" placeholder="Your Email" required />

        <!-- Services (checkbox group uses same entry id) -->
        <div class="checkbox-group" aria-label="Services">
          <label><input type="checkbox" name="entry.1063306987" value="Funnel Design & Automation" /> Funnel Design & Automation</label>
          <label><input type="checkbox" name="entry.1063306987" value="Brand & Digital Identity" /> Brand & Digital Identity</label>
          <label><input type="checkbox" name="entry.1063306987" value="Workflow Optimization" /> Workflow Optimization</label>
          <label><input type="checkbox" name="entry.1063306987" value="Faceless YouTube Systems" /> Faceless YouTube Systems</label>
        </div>

        <!-- Message: placeholder entry id -> replace entry.9999999999 with your real message entry ID if available.
             If you don't have a message entry ID, leave this as name="message" (or keep placeholder) and remove required attribute. -->
        <textarea name="entry.9999999999" rows="4" placeholder="Tell us about your project..." ></textarea>

        <button type="submit" class="submit-btn">Submit</button>
      </form>
    </div>
  </div>

  <!-- ===========================
       SCRIPTS
       - Original contact form uses Apps Script (kept)
       - Modal open/close logic added
       =========================== -->
  <script>
    /* Original Apps Script contact form logic (kept from your code) */
    const scriptURL = "https://script.google.com/macros/s/AKfycbwZo_FPWpCsOq4uRqMlSDV68kY2JKgN79NO9RyOkZQ-Z4r93oD7rSxG9xmdk_avS6M4/exec";
    const form = document.getElementById('contactForm');
    const status = document.getElementById('form-status');
    const popup = document.getElementById('success-popup');

    form.addEventListener('submit', e => {
      e.preventDefault();
      status.innerHTML = "‚è≥ Sending message...";

      fetch(scriptURL, { method: 'POST', body: new FormData(form) })
        .then(response => {
          if (response.ok) {
            status.innerHTML = "";
            popup.classList.add('active');
            form.reset();

            setTimeout(() => {
              document.body.classList.add('fade-out');
              setTimeout(() => {
                window.location.href = "thankyou.html";
              }, 600);
            }, 1800);
          } else {
            throw new Error('Network response was not ok.');
          }
        })
        .catch(error => {
          console.error('Error!', error.message);
          status.innerHTML = "‚ùå Something went wrong. Please try again later.";
        });
    });

    /* Modal logic for Start a Project button (new) */
    (function(){
      const modal = document.getElementById('projectModal');
      const openBtn = document.getElementById('startProjectBtn');
      const closeBtn = modal.querySelector('.close-btn');

      // open modal
      openBtn.addEventListener('click', () => {
        modal.classList.add('show');
        modal.setAttribute('aria-hidden','false');
        // focus first input for accessibility
        const first = modal.querySelector('input, textarea, select');
        if(first) first.focus();
      });

      // close modal function
      const closeModal = () => {
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden','true');
      };

      // close via close button
      closeBtn.addEventListener('click', closeModal);

      // close by clicking outside content
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
      });

      // close via ESC
      window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('show')) closeModal();
      });

      // Optional: auto-close the modal after Google Form submission (since target=_blank opens new tab)
      const projectForm = document.getElementById('projectForm');
      projectForm.addEventListener('submit', () => {
        setTimeout(() => closeModal(), 700);
      });
    })();
  </script>
<!-- üü§ START: Start a Project Modal -->
<div id="projectModal" class="modal-overlay" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-content" role="document" aria-labelledby="modalTitle">
    <button class="close-btn" aria-label="Close modal">&times;</button>
    <h2 id="modalTitle">Start a Project</h2>
    <p style="margin-bottom:12px;color:#666;">Quick details help us estimate scope ‚Äî pick services and leave a short note.</p>

    <form id="projectForm"
          action="https://docs.google.com/forms/d/e/1FAIpQLSforN4hmDAUwmZAbVplGEr7tjOeHZ9H_dr-uDmwJ5P-T3m0JQ/formResponse"
          method="POST"
          target="_blank">
      <input type="text" name="entry.1513897006" placeholder="Your Name" required />
      <input type="email" name="entry.1673846018" placeholder="Your Email" required />

      <div class="checkbox-group" aria-label="Services">
        <label><input type="checkbox" name="entry.1063306987" value="Funnel Design & Automation" /> Funnel Design & Automation</label>
        <label><input type="checkbox" name="entry.1063306987" value="Brand & Digital Identity" /> Brand & Digital Identity</label>
        <label><input type="checkbox" name="entry.1063306987" value="Workflow Optimization" /> Workflow Optimization</label>
        <label><input type="checkbox" name="entry.1063306987" value="Faceless YouTube Systems" /> Faceless YouTube Systems</label>
      </div>

      <textarea name="entry.9999999999" rows="4" placeholder="Tell us about your project..."></textarea>
      <button type="submit" class="submit-btn">Submit</button>
    </form>
  </div>
</div>
<!-- üü§ END: Start a Project Modal -->


<!-- üü§ Modal Script -->
<script>
  const modal = document.getElementById('projectModal');
  const openBtn = document.getElementById('startProjectBtn');
  const closeBtn = modal.querySelector('.close-btn');

  openBtn.addEventListener('click', () => {
    modal.classList.add('show');
    modal.setAttribute('aria-hidden','false');
  });

  const closeModal = () => {
    modal.classList.remove('show');
    modal.setAttribute('aria-hidden','true');
  };

  closeBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', e => { if(e.target === modal) closeModal(); });
  window.addEventListener('keydown', e => { if(e.key === 'Escape' && modal.classList.contains('show')) closeModal(); });

  const projectForm = document.getElementById('projectForm');
  projectForm.addEventListener('submit', () => {
    setTimeout(() => closeModal(), 700);
  });
</script>
<script>
  // Generic open/close for any modal-overlay via data-open="#id"
  document.querySelectorAll('[data-open]').forEach(btn => {
    btn.addEventListener('click', () => {
      const sel = btn.getAttribute('data-open');
      const modal = document.querySelector(sel);
      if (modal) {
        modal.classList.add('show');
        modal.setAttribute('aria-hidden','false');
      }
    });
  });

  document.querySelectorAll('.modal-overlay .close-btn').forEach(x => {
    x.addEventListener('click', e => {
      const modal = e.target.closest('.modal-overlay');
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
    });
  });

  document.querySelectorAll('.modal-overlay').forEach(m => {
    m.addEventListener('click', e => {
      if (e.target === m) {
        m.classList.remove('show');
        m.setAttribute('aria-hidden','true');
      }
    });
  });

  window.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
      document.querySelectorAll('.modal-overlay.show').forEach(m => {
        m.classList.remove('show');
        m.setAttribute('aria-hidden','true');
      });
    }
  });

  // Walkthrough open/close
  (function(){
    const walkModal = document.getElementById('walkModal');
    const openWalkthrough = document.getElementById('openWalkthrough');
    const closeWalkthrough = walkModal.querySelector('.close-btn');

    openWalkthrough.addEventListener('click', () => {
      walkModal.classList.add('show');
      walkModal.setAttribute('aria-hidden','false');
    });

    const close = () => {
      walkModal.classList.remove('show');
      walkModal.setAttribute('aria-hidden','true');
    };
    closeWalkthrough.addEventListener('click', close);
    walkModal.addEventListener('click', e => { if(e.target === walkModal) close(); });
    window.addEventListener('keydown', e => { if(e.key === 'Escape' && walkModal.classList.contains('show')) close(); });
  })();
</script>

</body>
</html>
